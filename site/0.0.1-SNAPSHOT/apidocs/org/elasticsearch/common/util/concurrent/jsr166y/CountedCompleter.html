<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0-u10-b09) on Tue Nov 06 03:27:12 CET 2012 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>CountedCompleter (elasticsearch-client 0.0.1-SNAPSHOT API)</title>
<meta name="date" content="2012-11-06">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="CountedCompleter (elasticsearch-client 0.0.1-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CountedCompleter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ConcurrentLinkedDeque.html" title="class in org.elasticsearch.common.util.concurrent.jsr166y"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinPool.html" title="class in org.elasticsearch.common.util.concurrent.jsr166y"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html" target="_top">Frames</a></li>
<li><a href="CountedCompleter.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.elasticsearch.common.util.concurrent.jsr166y</div>
<h2 title="Class CountedCompleter" class="title">Class CountedCompleter</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html" title="class in org.elasticsearch.common.util.concurrent.jsr166y">org.elasticsearch.common.util.concurrent.jsr166y.ForkJoinTask</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;</li>
<li>
<ul class="inheritance">
<li>org.elasticsearch.common.util.concurrent.jsr166y.CountedCompleter</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="http://docs.oracle.com/javase/6/docs/api/java/io/Serializable.html?is-external=true" title="class or interface in java.io">Serializable</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;</dd>
</dl>
<hr>
<br>
<pre>public abstract class <a href="../../../../../../src-html/org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#line.242">CountedCompleter</a>
extends <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html" title="class in org.elasticsearch.common.util.concurrent.jsr166y">ForkJoinTask</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;</pre>
<div class="block">A resultless <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html" title="class in org.elasticsearch.common.util.concurrent.jsr166y"><code>ForkJoinTask</code></a> with a completion action
 performed when triggered and there are no remaining pending
 actions. Uses of CountedCompleter are similar to those of other
 completion based components (such as <a href="http://docs.oracle.com/javase/6/docs/api/java/nio/channels/CompletionHandler.html?is-external=true" title="class or interface in java.nio.channels"><code>CompletionHandler</code></a>) except that multiple
 <em>pending</em> completions may be necessary to trigger the <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#onCompletion(org.elasticsearch.common.util.concurrent.jsr166y.CountedCompleter)"><code>onCompletion(org.elasticsearch.common.util.concurrent.jsr166y.CountedCompleter)</code></a> action, not just one. Unless initialized otherwise,
 the <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#getPendingCount()"><code>pending count</code></a> starts at zero, but may
 be (atomically) changed using methods <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#setPendingCount(int)"><code>setPendingCount(int)</code></a>,
 <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#addToPendingCount(int)"><code>addToPendingCount(int)</code></a>, and <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#compareAndSetPendingCount(int, int)"><code>compareAndSetPendingCount(int, int)</code></a>. Upon invocation of <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#tryComplete()"><code>tryComplete()</code></a>, if the pending action count is nonzero, it is
 decremented; otherwise, the completion action is performed, and if
 this completer itself has a completer, the process is continued
 with its completer.  As is the case with related synchronization
 components such as <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/Phaser.html" title="class in org.elasticsearch.common.util.concurrent.jsr166y"><code>Phaser</code></a> and <a href="http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Semaphore.html?is-external=true" title="class or interface in java.util.concurrent"><code>Semaphore</code></a> these methods affect only internal
 counts; they do not establish any further internal bookkeeping. In
 particular, the identities of pending tasks are not maintained. As
 illustrated below, you can create subclasses that do record some or
 all pended tasks or their results when needed.

 <p>A concrete CountedCompleter class must define method <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#compute()"><code>compute()</code></a>, that should, in almost all use cases, invoke <code>tryComplete()</code> once before returning. The class may also optionally
 override method <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#onCompletion(org.elasticsearch.common.util.concurrent.jsr166y.CountedCompleter)"><code>onCompletion(org.elasticsearch.common.util.concurrent.jsr166y.CountedCompleter)</code></a> to perform an action upon
 normal completion, and method <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#onExceptionalCompletion(java.lang.Throwable, org.elasticsearch.common.util.concurrent.jsr166y.CountedCompleter)"><code>onExceptionalCompletion(java.lang.Throwable, org.elasticsearch.common.util.concurrent.jsr166y.CountedCompleter)</code></a> to
 perform an action upon any exception.

 <p>A CountedCompleter that does not itself have a completer (i.e.,
 one for which <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#getCompleter()"><code>getCompleter()</code></a> returns <code>null</code>) can be
 used as a regular ForkJoinTask with this added functionality.
 However, any completer that in turn has another completer serves
 only as an internal helper for other computations, so its own task
 status (as reported in methods such as <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#isDone()"><code>ForkJoinTask.isDone()</code></a>)
 is arbitrary; this status changes only upon explicit invocations of
 <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#complete(java.lang.Void)"><code>complete(java.lang.Void)</code></a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#cancel(boolean)"><code>ForkJoinTask.cancel(boolean)</code></a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#completeExceptionally(java.lang.Throwable)"><code>ForkJoinTask.completeExceptionally(java.lang.Throwable)</code></a> or upon exceptional completion
 of method <code>compute</code>. Upon any exceptional completion, the
 exception may be relayed to a task's completer (and its completer,
 and so on), if one exists and it has not otherwise already
 completed.

 <p><b>Sample Usages.</b>

 <p><b>Parallel recursive decomposition.</b> CountedCompleters may
 be arranged in trees similar to those often used with <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/RecursiveAction.html" title="class in org.elasticsearch.common.util.concurrent.jsr166y"><code>RecursiveAction</code></a>s, although the constructions involved in setting
 them up typically vary. Even though they entail a bit more
 bookkeeping, CountedCompleters may be better choices when applying
 a possibly time-consuming operation (that cannot be further
 subdivided) to each element of an array or collection; especially
 when the operation takes a significantly different amount of time
 to complete for some elements than others, either because of
 intrinsic variation (for example IO) or auxiliary effects such as
 garbage collection.  Because CountedCompleters provide their own
 continuations, other threads need not block waiting to perform
 them.

 <p> For example, here is an initial version of a class that uses
 divide-by-two recursive decomposition to divide work into single
 pieces (leaf tasks). Even when work is split into individual calls,
 tree-based techniques are usually preferable to directly forking
 leaf tasks, because they reduce inter-thread communication and
 improve load balancing. In the recursive case, the second of each
 pair of subtasks to finish triggers completion of its parent
 (because no result combination is performed, the default no-op
 implementation of method <code>onCompletion</code> is not overridden). A
 static utility method sets up the base task and invokes it:

 <pre> <code>class MyOperation&lt;E&gt; { void apply(E e) { ... }  }

 class ForEach&lt;E&gt; extends CountedCompleter {

     public static &lt;E&gt; void forEach(ForkJoinPool pool, E[] array, MyOperation&lt;E&gt; op) {
         pool.invoke(new ForEach&lt;E&gt;(null, array, op, 0, array.length));
     }

     final E[] array; final MyOperation&lt;E&gt; op; final int lo, hi;
     ForEach(CountedCompleter p, E[] array, MyOperation&lt;E&gt; op, int lo, int hi) {
         super(p);
         this.array = array; this.op = op; this.lo = lo; this.hi = hi;
     }

     public void compute() { // version 1
         if (hi - lo &gt;= 2) {
             int mid = (lo + hi) &gt;&gt;&gt; 1;
             setPendingCount(2); // must set pending count before fork
             new ForEach(this, array, op, mid, hi).fork(); // right child
             new ForEach(this, array, op, lo, mid).fork(); // left child
         }
         else if (hi &gt; lo)
             op.apply(array[lo]);
         tryComplete();
     }
 } </code></pre>

 This design can be improved by noticing that in the recursive case,
 the task has nothing to do after forking its right task, so can
 directly invoke its left task before returning. (This is an analog
 of tail recursion removal.)  Also, because the task returns upon
 executing its left task (rather than falling through to invoke
 tryComplete) the pending count is set to one:

 <pre> <code>class ForEach&lt;E&gt; ...
     public void compute() { // version 2
         if (hi - lo &gt;= 2) {
             int mid = (lo + hi) &gt;&gt;&gt; 1;
             setPendingCount(1); // only one pending
             new ForEach(this, array, op, mid, hi).fork(); // right child
             new ForEach(this, array, op, lo, mid).compute(); // direct invoke
         }
         else {
             if (hi &gt; lo)
                 op.apply(array[lo]);
             tryComplete();
         }
     }
 </code></pre>

 As a further improvement, notice that the left task need not even
 exist.  Instead of creating a new one, we can iterate using the
 original task, and add a pending count for each fork:

 <pre> <code>class ForEach&lt;E&gt; ...
     public void compute() { // version 3
         int l = lo,  h = hi;
         while (h - l &gt;= 2) {
             int mid = (l + h) &gt;&gt;&gt; 1;
             addToPendingCount(1);
             new ForEach(this, array, op, mid, h).fork(); // right child
             h = mid;
         }
         if (h &gt; l)
             op.apply(array[l]);
         tryComplete();
     }
 </code></pre>

 Additional improvements of such classes might entail precomputing
 pending counts so that they can be established in constructors,
 specializing classes for leaf steps, subdividing by say, four,
 instead of two per iteration, and using an adaptive threshold
 instead of always subdividing down to single elements.

 <p><b>Recording subtasks.</b> CountedCompleter tasks that combine
 results of multiple subtasks usually need to access these results
 in method <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#onCompletion(org.elasticsearch.common.util.concurrent.jsr166y.CountedCompleter)"><code>onCompletion(org.elasticsearch.common.util.concurrent.jsr166y.CountedCompleter)</code></a>. As illustrated in the following
 class (that performs a simplified form of map-reduce where mappings
 and reductions are all of type <code>E</code>), one way to do this in
 divide and conquer designs is to have each subtask record its
 sibling, so that it can be accessed in method <code>onCompletion</code>.
 For clarity, this class uses explicit left and right subtasks, but
 variants of other streamlinings seen in the above example may also
 apply.

 <pre> <code>class MyMapper&lt;E&gt; { E apply(E v) {  ...  } }
 class MyReducer&lt;E&gt; { E apply(E x, E y) {  ...  } }
 class MapReducer&lt;E&gt; extends CountedCompleter {
     final E[] array; final MyMapper&lt;E&gt; mapper;
     final MyReducer&lt;E&gt; reducer; final int lo, hi;
     MapReducer sibling;
     E result;
     MapReducer(CountedCompleter p, E[] array, MyMapper&lt;E&gt; mapper,
                MyReducer&lt;E&gt; reducer, int lo, int hi) {
         super(p);
         this.array = array; this.mapper = mapper;
         this.reducer = reducer; this.lo = lo; this.hi = hi;
     }
     public void compute() {
         if (hi - lo &gt;= 2) {
             int mid = (lo + hi) &gt;&gt;&gt; 1;
             MapReducer&lt;E&gt; left = new MapReducer(this, array, mapper, reducer, lo, mid);
             MapReducer&lt;E&gt; right = new MapReducer(this, array, mapper, reducer, mid, hi);
             left.sibling = right;
             right.sibling = left;
             setPendingCount(1); // only right is pending
             right.fork();
             left.compute();     // directly execute left
         }
         else {
             if (hi &gt; lo)
                 result = mapper.apply(array[lo]);
             tryComplete();
         }
     }
     public void onCompletion(CountedCompleter caller) {
         if (caller != this) {
            MapReducer&lt;E&gt; child = (MapReducer&lt;E&gt;)caller;
            MapReducer&lt;E&gt; sib = child.sibling;
            if (sib == null || sib.result == null)
                result = child.result;
            else
                result = reducer.apply(child.result, sib.result);
         }
     }

     public static &lt;E&gt; E mapReduce(ForkJoinPool pool, E[] array,
                                   MyMapper&lt;E&gt; mapper, MyReducer&lt;E&gt; reducer) {
         MapReducer&lt;E&gt; mr = new MapReducer&lt;E&gt;(null, array, mapper,
                                              reducer, 0, array.length);
         pool.invoke(mr);
         return mr.result;
     }
 } </code></pre>

 <p><b>Triggers.</b> Some CountedCompleters are themselves never
 forked, but instead serve as bits of plumbing in other designs;
 including those in which the completion of one of more async tasks
 triggers another async task. For example:

 <pre> <code>class HeaderBuilder extends CountedCompleter { ... }
 class BodyBuilder extends CountedCompleter { ... }
 class PacketSender extends CountedCompleter {
     PacketSender(...) { super(null, 1); ... } // trigger on second completion
     public void compute() { } // never called
     public void onCompletion(CountedCompleter caller) { sendPacket(); }
 }
 // sample use:
 PacketSender p = new PacketSender();
 new HeaderBuilder(p, ...).fork();
 new BodyBuilder(p, ...).fork();
 </code></pre></div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>1.8</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Doug Lea</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../serialized-form.html#org.elasticsearch.common.util.concurrent.jsr166y.CountedCompleter">Serialized Form</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#CountedCompleter()">CountedCompleter</a></strong>()</code>
<div class="block">Creates a new CountedCompleter with no completer
 and an initial pending count of zero.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#CountedCompleter(org.elasticsearch.common.util.concurrent.jsr166y.CountedCompleter)">CountedCompleter</a></strong>(<a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html" title="class in org.elasticsearch.common.util.concurrent.jsr166y">CountedCompleter</a>&nbsp;completer)</code>
<div class="block">Creates a new CountedCompleter with the given completer
 and an initial pending count of zero.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#CountedCompleter(org.elasticsearch.common.util.concurrent.jsr166y.CountedCompleter, int)">CountedCompleter</a></strong>(<a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html" title="class in org.elasticsearch.common.util.concurrent.jsr166y">CountedCompleter</a>&nbsp;completer,
                                int&nbsp;initialPendingCount)</code>
<div class="block">Creates a new CountedCompleter with the given completer
 and initial pending count.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#addToPendingCount(int)">addToPendingCount</a></strong>(int&nbsp;delta)</code>
<div class="block">Adds (atomically) the given value to the pending count.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#compareAndSetPendingCount(int, int)">compareAndSetPendingCount</a></strong>(int&nbsp;expected,
                                                  int&nbsp;count)</code>
<div class="block">Sets (atomically) the pending count to the given count only if
 it currently holds the given expected value.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#complete(java.lang.Void)">complete</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&nbsp;mustBeNull)</code>
<div class="block">Regardless of pending count, invokes <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#onCompletion(org.elasticsearch.common.util.concurrent.jsr166y.CountedCompleter)"><code>onCompletion(org.elasticsearch.common.util.concurrent.jsr166y.CountedCompleter)</code></a>,
 marks this task as complete with a <code>null</code> return value,
 and further triggers <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#tryComplete()"><code>tryComplete()</code></a> on this task's
 completer, if one exists.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#compute()">compute</a></strong>()</code>
<div class="block">The main computation performed by this task.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#exec()">exec</a></strong>()</code>
<div class="block">Implements execution conventions for CountedCompleters</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html" title="class in org.elasticsearch.common.util.concurrent.jsr166y">CountedCompleter</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#getCompleter()">getCompleter</a></strong>()</code>
<div class="block">Returns the completer established in this task's constructor,
 or <code>null</code> if none.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#getPendingCount()">getPendingCount</a></strong>()</code>
<div class="block">Returns the current pending count.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#getRawResult()">getRawResult</a></strong>()</code>
<div class="block">Always returns <code>null</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#onCompletion(org.elasticsearch.common.util.concurrent.jsr166y.CountedCompleter)">onCompletion</a></strong>(<a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html" title="class in org.elasticsearch.common.util.concurrent.jsr166y">CountedCompleter</a>&nbsp;caller)</code>
<div class="block">Performs an action when method <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#tryComplete()"><code>tryComplete()</code></a> is invoked
 and there are no pending counts, or when the unconditional
 method <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#complete(java.lang.Void)"><code>complete(java.lang.Void)</code></a> is invoked.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#onExceptionalCompletion(java.lang.Throwable, org.elasticsearch.common.util.concurrent.jsr166y.CountedCompleter)">onExceptionalCompletion</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;ex,
                                              <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html" title="class in org.elasticsearch.common.util.concurrent.jsr166y">CountedCompleter</a>&nbsp;caller)</code>
<div class="block">Performs an action when method <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#completeExceptionally(java.lang.Throwable)"><code>ForkJoinTask.completeExceptionally(java.lang.Throwable)</code></a>
 is invoked or method <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#compute()"><code>compute()</code></a> throws an exception, and
 this task has not otherwise already completed normally.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#setPendingCount(int)">setPendingCount</a></strong>(int&nbsp;count)</code>
<div class="block">Sets the pending count to the given value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#setRawResult(java.lang.Void)">setRawResult</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&nbsp;mustBeNull)</code>
<div class="block">Requires null completion value.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#tryComplete()">tryComplete</a></strong>()</code>
<div class="block">If the pending count is nonzero, decrements the count;
 otherwise invokes <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#onCompletion(org.elasticsearch.common.util.concurrent.jsr166y.CountedCompleter)"><code>onCompletion(org.elasticsearch.common.util.concurrent.jsr166y.CountedCompleter)</code></a> and then similarly
 tries to complete this task's completer, if one exists,
 else marks this task as complete.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.elasticsearch.common.util.concurrent.jsr166y.ForkJoinTask">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.elasticsearch.common.util.concurrent.jsr166y.<a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html" title="class in org.elasticsearch.common.util.concurrent.jsr166y">ForkJoinTask</a></h3>
<code><a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#adapt(java.util.concurrent.Callable)">adapt</a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#adapt(java.lang.Runnable)">adapt</a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#adapt(java.lang.Runnable, T)">adapt</a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#cancel(boolean)">cancel</a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#compareAndSetForkJoinTaskTag(short, short)">compareAndSetForkJoinTaskTag</a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#completeExceptionally(java.lang.Throwable)">completeExceptionally</a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#fork()">fork</a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#get()">get</a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#get(long, java.util.concurrent.TimeUnit)">get</a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#getException()">getException</a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#getForkJoinTaskTag()">getForkJoinTaskTag</a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#getPool()">getPool</a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#getQueuedTaskCount()">getQueuedTaskCount</a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#getSurplusQueuedTaskCount()">getSurplusQueuedTaskCount</a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#helpQuiesce()">helpQuiesce</a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#inForkJoinPool()">inForkJoinPool</a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#invoke()">invoke</a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#invokeAll(java.util.Collection)">invokeAll</a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#invokeAll(org.elasticsearch.common.util.concurrent.jsr166y.ForkJoinTask...)">invokeAll</a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#invokeAll(org.elasticsearch.common.util.concurrent.jsr166y.ForkJoinTask, org.elasticsearch.common.util.concurrent.jsr166y.ForkJoinTask)">invokeAll</a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#isCancelled()">isCancelled</a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#isCompletedAbnormally()">isCompletedAbnormally</a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#isCompletedNormally()">isCompletedNormally</a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#isDone()">isDone</a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#join()">join</a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#peekNextLocalTask()">peekNextLocalTask</a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#pollNextLocalTask()">pollNextLocalTask</a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#pollTask()">pollTask</a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#quietlyComplete()">quietlyComplete</a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#quietlyInvoke()">quietlyInvoke</a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#quietlyJoin()">quietlyJoin</a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#reinitialize()">reinitialize</a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#setForkJoinTaskTag(short)">setForkJoinTaskTag</a>, <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#tryUnfork()">tryUnfork</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="CountedCompleter(org.elasticsearch.common.util.concurrent.jsr166y.CountedCompleter, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CountedCompleter</h4>
<pre>protected&nbsp;<a href="../../../../../../src-html/org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#line.257">CountedCompleter</a>(<a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html" title="class in org.elasticsearch.common.util.concurrent.jsr166y">CountedCompleter</a>&nbsp;completer,
                int&nbsp;initialPendingCount)</pre>
<div class="block">Creates a new CountedCompleter with the given completer
 and initial pending count.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>completer</code> - this tasks completer, or <code>null</code> if none</dd><dd><code>initialPendingCount</code> - the initial pending count</dd></dl>
</li>
</ul>
<a name="CountedCompleter(org.elasticsearch.common.util.concurrent.jsr166y.CountedCompleter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CountedCompleter</h4>
<pre>protected&nbsp;<a href="../../../../../../src-html/org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#line.269">CountedCompleter</a>(<a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html" title="class in org.elasticsearch.common.util.concurrent.jsr166y">CountedCompleter</a>&nbsp;completer)</pre>
<div class="block">Creates a new CountedCompleter with the given completer
 and an initial pending count of zero.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>completer</code> - this tasks completer, or <code>null</code> if none</dd></dl>
</li>
</ul>
<a name="CountedCompleter()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CountedCompleter</h4>
<pre>protected&nbsp;<a href="../../../../../../src-html/org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#line.277">CountedCompleter</a>()</pre>
<div class="block">Creates a new CountedCompleter with no completer
 and an initial pending count of zero.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="compute()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compute</h4>
<pre>public abstract&nbsp;void&nbsp;<a href="../../../../../../src-html/org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#line.284">compute</a>()</pre>
<div class="block">The main computation performed by this task.</div>
</li>
</ul>
<a name="onCompletion(org.elasticsearch.common.util.concurrent.jsr166y.CountedCompleter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onCompletion</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../../src-html/org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#line.295">onCompletion</a>(<a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html" title="class in org.elasticsearch.common.util.concurrent.jsr166y">CountedCompleter</a>&nbsp;caller)</pre>
<div class="block">Performs an action when method <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#tryComplete()"><code>tryComplete()</code></a> is invoked
 and there are no pending counts, or when the unconditional
 method <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#complete(java.lang.Void)"><code>complete(java.lang.Void)</code></a> is invoked.  By default, this method
 does nothing.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>caller</code> - the task invoking this method (which may
 be this task itself).</dd></dl>
</li>
</ul>
<a name="onExceptionalCompletion(java.lang.Throwable, org.elasticsearch.common.util.concurrent.jsr166y.CountedCompleter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onExceptionalCompletion</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../../../src-html/org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#line.315">onExceptionalCompletion</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;ex,
                              <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html" title="class in org.elasticsearch.common.util.concurrent.jsr166y">CountedCompleter</a>&nbsp;caller)</pre>
<div class="block">Performs an action when method <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#completeExceptionally(java.lang.Throwable)"><code>ForkJoinTask.completeExceptionally(java.lang.Throwable)</code></a>
 is invoked or method <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#compute()"><code>compute()</code></a> throws an exception, and
 this task has not otherwise already completed normally. On
 entry to this method, this task <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#isCompletedAbnormally()"><code>ForkJoinTask.isCompletedAbnormally()</code></a>.  The return value of this
 method controls further propagation: If <code>true</code> and this
 task has a completer, then this completer is also completed
 exceptionally.  The default implementation of this method does
 nothing except return <code>true</code>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>ex</code> - the exception</dd><dd><code>caller</code> - the task invoking this method (which may
 be this task itself).</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if this exception should be propagated to this
 tasks completer, if one exists.</dd></dl>
</li>
</ul>
<a name="getCompleter()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCompleter</h4>
<pre>public final&nbsp;<a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html" title="class in org.elasticsearch.common.util.concurrent.jsr166y">CountedCompleter</a>&nbsp;<a href="../../../../../../src-html/org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#line.325">getCompleter</a>()</pre>
<div class="block">Returns the completer established in this task's constructor,
 or <code>null</code> if none.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the completer</dd></dl>
</li>
</ul>
<a name="getPendingCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPendingCount</h4>
<pre>public final&nbsp;int&nbsp;<a href="../../../../../../src-html/org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#line.334">getPendingCount</a>()</pre>
<div class="block">Returns the current pending count.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the current pending count</dd></dl>
</li>
</ul>
<a name="setPendingCount(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPendingCount</h4>
<pre>public final&nbsp;void&nbsp;<a href="../../../../../../src-html/org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#line.343">setPendingCount</a>(int&nbsp;count)</pre>
<div class="block">Sets the pending count to the given value.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>count</code> - the count</dd></dl>
</li>
</ul>
<a name="addToPendingCount(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addToPendingCount</h4>
<pre>public final&nbsp;void&nbsp;<a href="../../../../../../src-html/org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#line.352">addToPendingCount</a>(int&nbsp;delta)</pre>
<div class="block">Adds (atomically) the given value to the pending count.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>delta</code> - the value to add</dd></dl>
</li>
</ul>
<a name="compareAndSetPendingCount(int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compareAndSetPendingCount</h4>
<pre>public final&nbsp;boolean&nbsp;<a href="../../../../../../src-html/org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#line.365">compareAndSetPendingCount</a>(int&nbsp;expected,
                                int&nbsp;count)</pre>
<div class="block">Sets (atomically) the pending count to the given count only if
 it currently holds the given expected value.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>expected</code> - the expected value</dd><dd><code>count</code> - the new value</dd>
<dt><span class="strong">Returns:</span></dt><dd>true is successful</dd></dl>
</li>
</ul>
<a name="tryComplete()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tryComplete</h4>
<pre>public final&nbsp;void&nbsp;<a href="../../../../../../src-html/org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#line.375">tryComplete</a>()</pre>
<div class="block">If the pending count is nonzero, decrements the count;
 otherwise invokes <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#onCompletion(org.elasticsearch.common.util.concurrent.jsr166y.CountedCompleter)"><code>onCompletion(org.elasticsearch.common.util.concurrent.jsr166y.CountedCompleter)</code></a> and then similarly
 tries to complete this task's completer, if one exists,
 else marks this task as complete.</div>
</li>
</ul>
<a name="complete(java.lang.Void)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>complete</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../../src-html/org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#line.400">complete</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&nbsp;mustBeNull)</pre>
<div class="block">Regardless of pending count, invokes <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#onCompletion(org.elasticsearch.common.util.concurrent.jsr166y.CountedCompleter)"><code>onCompletion(org.elasticsearch.common.util.concurrent.jsr166y.CountedCompleter)</code></a>,
 marks this task as complete with a <code>null</code> return value,
 and further triggers <a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#tryComplete()"><code>tryComplete()</code></a> on this task's
 completer, if one exists. This method may be useful when
 forcing completion as soon as any one (versus all) of several
 subtask results are obtained.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#complete(V)">complete</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html" title="class in org.elasticsearch.common.util.concurrent.jsr166y">ForkJoinTask</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>mustBeNull</code> - the <code>null</code> completion value</dd></dl>
</li>
</ul>
<a name="exec()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exec</h4>
<pre>protected final&nbsp;boolean&nbsp;<a href="../../../../../../src-html/org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#line.421">exec</a>()</pre>
<div class="block">Implements execution conventions for CountedCompleters</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#exec()">exec</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html" title="class in org.elasticsearch.common.util.concurrent.jsr166y">ForkJoinTask</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;</code></dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> if this task is known to have completed normally</dd></dl>
</li>
</ul>
<a name="getRawResult()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRawResult</h4>
<pre>public final&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&nbsp;<a href="../../../../../../src-html/org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#line.431">getRawResult</a>()</pre>
<div class="block">Always returns <code>null</code>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#getRawResult()">getRawResult</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html" title="class in org.elasticsearch.common.util.concurrent.jsr166y">ForkJoinTask</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;</code></dd>
<dt><span class="strong">Returns:</span></dt><dd><code>null</code> always</dd></dl>
</li>
</ul>
<a name="setRawResult(java.lang.Void)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setRawResult</h4>
<pre>protected final&nbsp;void&nbsp;<a href="../../../../../../src-html/org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html#line.436">setRawResult</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&nbsp;mustBeNull)</pre>
<div class="block">Requires null completion value.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html#setRawResult(V)">setRawResult</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinTask.html" title="class in org.elasticsearch.common.util.concurrent.jsr166y">ForkJoinTask</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>mustBeNull</code> - the value</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CountedCompleter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ConcurrentLinkedDeque.html" title="class in org.elasticsearch.common.util.concurrent.jsr166y"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../org/elasticsearch/common/util/concurrent/jsr166y/ForkJoinPool.html" title="class in org.elasticsearch.common.util.concurrent.jsr166y"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/elasticsearch/common/util/concurrent/jsr166y/CountedCompleter.html" target="_top">Frames</a></li>
<li><a href="CountedCompleter.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2012. All Rights Reserved.</small></p>
</body>
</html>
